# go-currency-tracker

## üõ† –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker-compose up -d
```

## üõ† –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
```bash
golangci-lint run
```
## üõ† –ü—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
```bash
go test -race ./...
```

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Go –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–ø–ª–∞–Ω)
- **Go** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **Redis** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Docker / Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö)
- **Kafka** ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö)
- **gRPC** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö)
- **Prometheus + Grafana** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö)

---

## üìå –≠—Ç–∞–ø 1 ‚Äî MVP –º–æ–Ω–æ–ª–∏—Ç

–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫—É—Ä—Å –≤–∞–ª—é—Ç—ã/–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API (CoinGecko).
2. –û—Ç–¥–∞—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ REST API.
3. –ò–º–µ–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã.

---

## üîó REST API

### Prometheus GUI
`http://localhost:9090/query`

### Profiling
```http
GET /debug/pprof/
```
`http://localhost:8080/debug/pprof/`


### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
```http
GET /metrics
```
`http://localhost:8080/metrics`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
...
cached_client_cache_hits_total 50
cached_client_cache_misses_total 3
...
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```http
GET /ping
```
`http://localhost:8080/ping`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
pong
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ BTC/USD
```http
GET /btc-usd
```
`http://localhost:8080/btc-usd`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
BTC/USD: 29341.00
```

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫—É—Ä—Å–æ–≤
```http
GET /rates
```
`http://localhost:8080/rates`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
{"bitcoin":{"usd":109658},"ethereum":{"usd":4306.79},"usd":{"rub":81.31}}
```

---

## üõ† –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
go run cmd/app/main.go
```

–°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–∞ `http://localhost:8080`.

---

## üìÖ –ü–ª–∞–Ω—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞–ª—é—Ç.
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis.
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Profile Service —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π.
- –î–æ–±–∞–≤–∏—Ç—å gRPC –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–±—â–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤.
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (Prometheus + Grafana).